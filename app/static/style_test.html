<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>消息组件样式测试</title>
    <link href="/static/css/message_components.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 2rem;
            min-height: 100vh;
        }
        
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .test-title {
            text-align: center;
            color: #2c3e50;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, #3498db, #9b59b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .type-section {
            margin-bottom: 3rem;
            padding: 1.5rem;
            background: rgba(52, 152, 219, 0.05);
            border-radius: 12px;
            border-left: 4px solid #3498db;
        }
        
        .type-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1 class="test-title">🎨 消息组件样式测试</h1>
        
        <div class="type-section">
            <h2 class="type-title">📝 1. 文本内容 (Text)</h2>
            <div class="content-text intent-analysis">
                🎯 意图识别: 系统已成功识别您的意图为知识库检索操作
            </div>
            <div class="content-text regular-text">
                这是一个普通文本内容示例。系统正在为您处理相关请求，请稍候片刻。
            </div>
        </div>
        
        <div class="type-section">
            <h2 class="type-title">📄 2. Markdown内容</h2>
            <div class="content-markdown">
                <h1>主标题示例</h1>
                <h2>二级标题</h2>
                <h3>三级标题</h3>
                <p>这是一个<strong>加粗文本</strong>和<em>斜体文本</em>的示例。</p>
                <p>这里有一个<code>代码片段</code>的示例。</p>
                <ul>
                    <li>列表项目一：功能完善</li>
                    <li>列表项目二：性能优化</li>
                    <li>列表项目三：用户体验</li>
                </ul>
            </div>
        </div>
        
        <div class="type-section">
            <h2 class="type-title">📊 3. 表格内容</h2>
            <div class="content-table-container">
                <table class="content-table">
                    <thead>
                        <tr>
                            <th>文档名称</th>
                            <th>相关度</th>
                            <th>文件类型</th>
                            <th>最后修改</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>项目需求文档.pdf</td>
                            <td>0.95</td>
                            <td>PDF</td>
                            <td>2025-06-18</td>
                            <td>📄 预览</td>
                        </tr>
                        <tr>
                            <td>技术方案设计.docx</td>
                            <td>0.87</td>
                            <td>Word</td>
                            <td>2025-06-17</td>
                            <td>📄 预览</td>
                        </tr>
                        <tr>
                            <td>数据分析报告.xlsx</td>
                            <td>0.76</td>
                            <td>Excel</td>
                            <td>2025-06-16</td>
                            <td>📄 预览</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="type-section">
            <h2 class="type-title">🖼️ 4. 图片内容</h2>
            <div class="content-image-container">
                <img src="https://via.placeholder.com/400x200/3498db/ffffff?text=示例图片" 
                     alt="示例图片" class="content-image">
            </div>
        </div>
        
        <div class="type-section">
            <h2 class="type-title">💻 5. 代码块</h2>
            <div class="content-code-container">
                <div class="code-language">Python</div>
                <pre><code>def search_documents(query, top_k=5):
    """智能文档搜索函数"""
    # 进行向量化搜索
    results = vector_service.search(query, top_k)
    
    # 使用LLM进行结果优化
    optimized_results = llm_service.optimize_results(results)
    
    return {
        'success': True,
        'data': optimized_results,
        'total': len(optimized_results)
    }</code></pre>
                <button class="code-copy-btn">复制</button>
            </div>
        </div>
        
        <div class="type-section">
            <h2 class="type-title">⚙️ 6. 工具调用</h2>
            <div class="content-tool-call">
                <div class="tool-call-header">
                    <span class="tool-call-icon">🔧</span>
                    创建文件夹工具
                </div>
                <div class="tool-call-details">
                    <div class="tool-call-params">参数:
{
  "folder_name": "test_folder",
  "parent_path": "/documents/projects",
  "description": "项目测试文件夹"
}</div>
                    <div class="tool-call-result">
                        成功创建文件夹 'test_folder'，路径：/documents/projects/test_folder
                    </div>
                </div>
            </div>
        </div>
        
        <div class="type-section">
            <h2 class="type-title">📁 7. 文件链接</h2>
            <div class="content-file-link">
                <a href="#" class="file-link-item">
                    <div class="file-link-icon">📄</div>
                    <div class="file-link-content">
                        <div class="file-link-name">项目技术文档.pdf</div>
                        <div class="file-link-description">包含完整的技术架构设计和实现方案</div>
                    </div>
                </a>
            </div>
            <div class="content-file-link">
                <a href="#" class="file-link-item">
                    <div class="file-link-icon">📊</div>
                    <div class="file-link-content">
                        <div class="file-link-name">数据分析报告.xlsx</div>
                        <div class="file-link-description">最新的用户行为数据分析和趋势预测</div>
                    </div>
                </a>
            </div>
        </div>
        
        <div class="type-section">
            <h2 class="type-title">🔗 8. 普通链接</h2>
            <div class="content-link">
                <a href="#" class="link-item">
                    <span class="link-icon">🌐</span>
                    查看在线文档
                </a>
                <a href="#" class="link-item">
                    <span class="link-icon">📚</span>
                    访问知识库
                </a>
                <a href="#" class="link-item">
                    <span class="link-icon">⚡</span>
                    快速开始
                </a>
            </div>
        </div>
        
        <div class="type-section">
            <h2 class="type-title">🎯 意图识别信息</h2>
            <div style="position: relative; height: 60px; background: rgba(52, 152, 219, 0.05); border-radius: 8px; margin-bottom: 1rem;">
                <div class="intent-info">
                    <span class="intent-badge knowledge_search">知识检索</span>
                    <span class="confidence-score">置信度: 95%</span>
                </div>
            </div>
            <div style="position: relative; height: 60px; background: rgba(108, 117, 125, 0.05); border-radius: 8px; margin-bottom: 1rem;">
                <div class="intent-info">
                    <span class="intent-badge normal_chat">普通对话</span>
                    <span class="confidence-score">置信度: 88%</span>
                </div>
            </div>
            <div style="position: relative; height: 60px; background: rgba(255, 193, 7, 0.05); border-radius: 8px;">
                <div class="intent-info">
                    <span class="intent-badge mcp_action">MCP操作</span>
                    <span class="confidence-score">置信度: 92%</span>
                </div>
            </div>
        </div>
        
        <div class="type-section">
            <h2 class="type-title">💬 完整消息示例</h2>
            <div class="message-container" data-role="assistant">
                <div class="message-header">
                    <span class="message-role">AI助手</span>
                    <span class="message-time">2025-06-18 09:30:25</span>
                </div>
                <div class="message-content">
                    <div class="intent-info">
                        <span class="intent-badge knowledge_search">知识检索</span>
                        <span class="confidence-score">置信度: 95%</span>
                    </div>
                    <div class="content-text intent-analysis">
                        🎯 意图识别: 用户要求进行文档搜索，已识别为知识库检索操作
                    </div>
                    <div class="content-markdown">
                        <h2>搜索结果</h2>
                        <p>根据您的查询 <strong>"项目技术文档"</strong>，我找到了以下相关文档：</p>
                        <ul>
                            <li>找到了1个高度相关的文档</li>
                            <li>相关度评分达到0.95</li>
                            <li>包含完整的技术架构信息</li>
                        </ul>
                    </div>
                    <div class="content-table-container">
                        <table class="content-table">
                            <thead>
                                <tr>
                                    <th>文档</th>
                                    <th>相关度</th>
                                    <th>类型</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>技术架构设计.pdf</td>
                                    <td>0.95</td>
                                    <td>PDF</td>
                                    <td>📄 预览</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="content-file-link">
                        <a href="#" class="file-link-item">
                            <div class="file-link-icon">📄</div>
                            <div class="file-link-content">
                                <div class="file-link-name">技术架构设计.pdf</div>
                                <div class="file-link-description">查看完整的技术架构设计文档</div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // 为代码复制按钮添加功能
        document.querySelectorAll('.code-copy-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const codeBlock = this.parentElement.querySelector('code');
                if (codeBlock) {
                    navigator.clipboard.writeText(codeBlock.textContent).then(() => {
                        this.textContent = '已复制';
                        setTimeout(() => this.textContent = '复制', 2000);
                    });
                }
            });
        });
    </script>
</body>
</html> 