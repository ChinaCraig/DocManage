# 智能文档管理与语义检索系统

## 🎯 系统概述

这是一个集成的智能文档管理和语义检索系统，专为高效的文档处理和智能搜索而设计。系统将文档管理、内容识别、向量化处理和语义搜索功能统一到一个页面中，提供流畅的用户体验。

## ✨ 主要功能

### 🔍 智能语义搜索
- **自然语言查询**：使用AI技术理解用户意图
- **相似度评分**：显示搜索结果的相关性得分
- **上下文定位**：精确定位文档中的相关内容
- **多文档检索**：跨多个文档进行语义搜索

### 📁 文档管理
- **文件上传**：支持单文件和文件夹批量上传
- **文件夹管理**：创建文件夹层级结构
- **文档编辑**：修改文档名称和描述
- **文档删除**：安全删除文档和文件夹
- **文档预览**：查看文档详细信息

### 🤖 智能向量化
- **多格式支持**：PDF、Word、Excel、图像等
- **内容识别**：OCR文字识别，支持多种引擎
- **内容预览**：向量化前预览和编辑文本
- **参数调整**：自定义分块大小和重叠度
- **批量处理**：高效的批量文档向量化

### 🎨 用户界面
- **统一界面**：所有功能集成在一个页面
- **模式切换**：语义搜索和文档管理模式切换
- **响应式设计**：适配各种屏幕尺寸
- **实时反馈**：操作状态和进度实时显示

## 🖥 系统架构

### 前端技术
- **Bootstrap 5**：响应式UI框架
- **原生JavaScript**：无额外框架依赖
- **模块化设计**：功能模块化组织

### 后端技术
- **Flask**：Python Web框架
- **SQLAlchemy**：数据库ORM
- **Milvus**：向量数据库
- **MinIO**：对象存储（可选）

### AI技术栈
- **多OCR引擎**：Tesseract、EasyOCR、PaddleOCR
- **文本向量化**：SentenceTransformers
- **语义搜索**：向量相似度匹配
- **内容识别**：多语言文字识别

## 🚀 快速开始

### 1. 启动系统
```bash
python app.py
```

### 2. 访问系统
打开浏览器访问：http://localhost:5001

### 3. 开始使用

#### 文档管理模式
1. 点击"文档管理"标签
2. 使用左侧工具栏上传文件或创建文件夹
3. 在文档树中选择文档进行管理
4. 右键点击文档可进行编辑、向量化、删除操作

#### 语义搜索模式
1. 点击"语义搜索"标签（默认模式）
2. 在搜索框中输入关键词
3. 查看搜索结果和相关性评分
4. 点击搜索结果查看详细信息

#### 向量化处理
1. 在文档管理模式中选择文档
2. 点击"向量化"按钮
3. 预览和编辑提取的文本内容
4. 调整分块参数（可选）
5. 确认执行向量化

## 📊 支持的文件格式

| 类型 | 扩展名 | 功能特性 |
|------|--------|----------|
| PDF | .pdf | 文本+图像提取、OCR识别 |
| Word | .doc, .docx | 文本、表格、图像处理 |
| Excel | .xls, .xlsx, .xlsm, .xlsb | 数据分析、模式识别 |
| 图像 | .jpg, .jpeg, .png, .gif, .bmp, .tiff, .webp, .svg | OCR文字识别、模式检测 |
| 视频 | .mp4, .avi, .mov, .wmv 等 | 预留支持 |

## 🔧 系统特性

### 智能识别
- **多引擎OCR**：自动选择最佳识别引擎
- **多语言支持**：中文、英文、日语、韩语
- **特殊模式**：车牌号、身份证号、电话号码识别
- **置信度评估**：识别结果可靠性评分

### 向量化优化
- **智能分块**：基于文档结构的文本分割
- **内容编辑**：向量化前允许用户编辑内容
- **参数可调**：分块大小和重叠度可自定义
- **批量处理**：支持大量文档的批量向量化

### 搜索增强
- **语义理解**：AI理解查询意图
- **相关性排序**：智能排序搜索结果
- **上下文高亮**：突出显示匹配内容
- **跨文档搜索**：全库文档语义检索

## 📱 使用技巧

### 文档上传
- 支持拖拽上传，直接将文件拖到上传区域
- 文件夹上传会保持目录结构
- 批量上传支持显示上传进度

### 搜索优化
- 使用自然语言描述要查找的内容
- 可以搜索概念性内容，不需要精确匹配
- 搜索结果按相关性排序，得分越高越相关

### 向量化建议
- 大文档建议适当增加分块大小
- 有重要上下文关联的文档建议增加重叠度
- 图像文件会自动进行OCR识别

## 🛠 开发信息

### 目录结构
```
DocManage2/
├── app/
│   ├── __init__.py              # 应用初始化和路由
│   ├── models.py                # 数据模型
│   ├── routes/                  # API路由
│   │   ├── document_routes.py   # 文档管理API
│   │   ├── search_routes.py     # 搜索API
│   │   ├── upload_routes.py     # 上传API
│   │   └── vectorize_routes.py  # 向量化API
│   ├── services/                # 业务服务
│   │   ├── vectorization/       # 向量化服务
│   │   └── image_recognition_service.py # 图像识别
│   └── static/
│       ├── semantic_search.html # 主页面（集成界面）
│       └── js/
│           └── integrated_app.js # 前端逻辑
├── config.py                    # 配置文件
├── app.py                      # 启动文件
└── README.md                   # 本文件
```

### API端点
- `GET /api/documents/tree` - 获取文档树
- `POST /api/upload/` - 上传文件
- `POST /api/search/` - 语义搜索
- `POST /api/vectorize/preview/{doc_id}` - 预览向量化
- `POST /api/vectorize/execute/{doc_id}` - 执行向量化

## 📈 性能特性

- **响应式加载**：按需加载文档内容
- **增量搜索**：实时搜索结果更新
- **缓存优化**：智能缓存提升性能
- **并行处理**：支持并发向量化任务

## 🔒 安全特性

- **文件类型检查**：严格的文件格式验证
- **路径安全**：防止目录遍历攻击
- **输入验证**：全面的用户输入验证
- **错误处理**：安全的错误信息提示

---

**系统版本**: v2.0  
**最后更新**: 2025年6月  
**技术支持**: 集成智能文档管理系统 